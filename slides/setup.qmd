---
editor_options:
  chunk_output_type: console
---


```{r}
#| label: setup
#| output: false

library(tidyverse)
library(tidycensus)
library(usmap)

# library(ggpattern)

```


```{r}
#| label: constants
#| output: false

ddir <- here::here("data")

nykeep <- paste0("36", c("001", "083", "091", "093", "113", "115"))
vtkeep <- "50003"
keepcos <- c(nykeep, vtkeep)

nyplaces <- c("3611825", "3630675", "3664771", "3665750") 

```


```{r}
#| label: functions
#| output: false

barline <- function(data, title, ylab, ybreaks, yint){
  data |> 
    ggplot(aes(x = reorder(trimname, estimate), y = estimate, fill = special)) +
    geom_col(width = 0.2) +
    scale_fill_manual(values = c("lightblue", "blue")) +
    geom_hline(yintercept = yint, color = "red", linetype = "solid", linewidth = .75) +
    scale_y_continuous(name=ylab, labels = scales::label_comma(),
                       breaks = ybreaks) +
    labs(title = title,
       subtitle = "2019-2023 American Community Survey",
       x = NULL) +
    theme_minimal() +
    theme(legend.position = "None")
}

```



```{r}
#| label: quarto-links
#| eval: false
#| output: false

# https://bookdown.org/yihui/rmarkdown-cookbook/reuse-chunks.html

```

